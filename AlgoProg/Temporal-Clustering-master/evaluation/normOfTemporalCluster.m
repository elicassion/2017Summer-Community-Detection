function [ norm ] = normOfTemporalCluster( CiIdx, CiProb, CiLambda )
% calculate the frobenious norm of tensor generated by a cluster/community
%   norm = \sum_{v_m,v_n\in C_k}\sum_{t=1}^T (a_{mk}a_{nk}lambda_{tk})^2
% Input
%   - CiIdx:    set, IDs for nodes in C_k
%   - CiProb:   |V|*1 array, probability of a generative model, if C_k is a
%   ground truht community a_{mk}=0 if v_m is not a member of C_k
%   - CiLambda: T*1 array, edge-generating rate.
    CiProb = CiProb(CiIdx); CiLambda = CiLambda(:); CiProb = CiProb(:);
    CiProb = CiProb * CiProb'; CiProb = CiProb(:);
    CiProb = CiProb * CiLambda';
    norm = sum(sum(CiProb.^2));
end

